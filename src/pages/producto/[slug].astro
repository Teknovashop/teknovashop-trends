---
import Base from '../../layouts/Base.astro';import fs from 'fs';
export async function getStaticPaths(){const root=new URL('../../content/trends/', import.meta.url);function walk(dir){const p=new URL('.',dir);const e=fs.readdirSync(p);let files=[];for(const x of e){const f=new URL(x+'/',p);if(fs.statSync(f).isDirectory()){files=files.concat(walk(f));}else if(x.endsWith('.md') && x!=='index.json'){files.push(new URL(x,p));}}return files;}const files=walk(root);const paths=files.map(u=>{const txt=fs.readFileSync(u,'utf-8');const m=/slug:\s*\"([^\"]+)\"/.exec(txt)||[];return { params:{ slug:m[1]||'item' } };});return paths;}
const { slug } = Astro.params;
function findBySlug(dir){const p=new URL('.',dir);const e=fs.readdirSync(p);for(const x of e){const f=new URL(x+'/',p);if(fs.statSync(f).isDirectory()){const r=findBySlug(f);if(r) return r;}else if(x.endsWith('.md') && x!=='index.json'){const t=fs.readFileSync(f,'utf-8');const s=/slug:\s*\"([^\"]+)\"/.exec(t)?.[1];if(s===slug) return t;}}return null;}
const txt = findBySlug(new URL('../../content/trends/', import.meta.url));const title=/title:\s*\"([^\"]+)\"/.exec(txt||'')?.[1]||slug;const hero=/hero:\s*\"([^\"]+)\"/.exec(txt||'')?.[1]||'/placeholder.jpg';
---
<Base title={`${title} â€” Teknovashop`}>
  <article><img class="hero" src={hero} alt={title}/><h1>{title}</h1><div set:html={(txt||'').replace(/---([\s\S]*?)---/,'')} /></article>
</Base>